The file formats in Siesta are in a state of flux. On the one hand,
some of the legacy formats were inefficient or incomplete, so new ones
have been devised, and appropriate translators provided when
necessary.  Examples are the WFS (WFSX) wavefunction file, and the HS
(HSX) hamiltonian-and-overlap file. On the other hand, we are
introducing new files in netCDF format which facilitate the exchange
of information among different computers and offer new functionality
in Siesta. Examples are the DM.nc and the .Grid.nc files.

Here we provide an overview of some of the most important files and their
associated tools.


** DENSITY MATRIX ---------------------------------------------------

DM 

Traditional Density Matrix (DM) file. The DM is written by default at
the end of each SCF step, *after mixing*, so it can be directly used
in a restart. It is a binary file.

DM.nc

DM in netCDF format. It contains the same information as DM, plus the
number of orbitals in the auxiliary supercell and the array 'indxuo'
which maps the orbitals in the supercell to the unit cell.  If the fdf
option XXXX is used, this file will store all the DMs in an SCF cycle.

DMHS.nc

DMin, DMout, Hamiltonian, and Overlap matrix in netCDF format. If the
fdf option XXXX is used, this file will store the corresponding
information for all the steps in an SCF cycle.

Associated tools:

Util/DensityMatrix:  cdf2dm, dm2cdf: DM <--> DM.nc conversion
                     experimental octave/matlab scripts to process DM .nc files
Util/SCF:            experimental python scripts to process DM .nc files
------------------------------------------------------------------

** HAMILTONIAN AND OVERLAP MATRICES  -----------------------------

HS

The old format, very inefficient in terms of space used. It contains
also the xij array and information about the atomic species and orbitals.

HSX 

The new format, with better packing of binary records.

The two formats coexist for now. Some utilities read HS, and others (notably the
mprop program in Util/COOP), HSX.

DMHS

See above

------------------------------------------------------------------

** WAVEFUNCTIONS -------------------------------------------------

WFS

Old format, now superseded by WFSX.

WFSX

New format, without redundant information, and in single precision.

WFS.nc

A netCDF file to store the eigenvectors (in routine diagk_file) as they
are computed, thus saving a second round of diagonalization after the
calculation of the Fermi level.

Associated tools:

Util/WFS: readwfx, wfsnc2wfsx, readwf,  wfs2wfsx, wfsx2wfs

------------------------------------------------------------------

GRID MAGNITUDES --------------------------------------------------

RHO, VT, DRHO, VH....

These are binary files, read directly by (for example) Andrei Postnikov's utilities.

...Grid.nc 

netCDF files which can be directly processed by a number of programs and scripts.
The Rho.Grid.nc and DeltaRho.Grid.nc files can also be read by Siesta to start
a new SCF cycle.

Associated tools:

Util/Grid:   

 Operating on old-style files: grid2val, grid2cube, grid2cdf
 Operating on netCDF files:    average_x.m	cdf2xsf, 
                               average_z.m  cdf_diff, cdf2grid, cdf_fft

Util/Contrib/APostnikov:       rho2xsf, etc.
