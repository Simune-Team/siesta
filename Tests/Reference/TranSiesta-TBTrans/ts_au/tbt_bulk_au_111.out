TBtrans Version: v4.1-b4-146
Architecture  : x86_64-linux-gcc
Compiler flags: mpifort -m64 -fPIC -O3 -ftree-vectorize -fexpensive-optimizations -funroll-loops -fprefetch-loop-arrays -fgraphite -fipa-icf -fipa-pure-const -march=native -fschedule-fusion -fselective-scheduling -fstack-arrays -fmax-stack-var-size=10000 -fipa-sra -fipa-cp -Warray-temporaries -fcheck=recursion,array-temps -fno-second-underscore -Wrealloc-lhs -Wrealloc-lhs-all
PP flags      : -DSIESTA__FLOOK -DSIESTA__METIS -DSIESTA__FFTW -DTS_PVT_METIS -DSIESTA__MRRR -DMPI -DFC_HAVE_FLUSH -DFC_HAVE_ABORT -DCDF -DGRID_DP -DMPI_TIMING -DTRANSIESTA_TIMING -DTBTRANS_TIMING -DSIESTA__MUMPS -DNCDF_PARALLEL -DNCDF -DNCDF_4 -DSCALAPACK_DEBUG -D_DIAG_WORK -DSIESTA__DIAG_2STAGE -DSIESTA__ELPA -DTBTRANS
Libraries     : libncdf.a libfdict.a  -lzmumps -lmumps_common -lpord -lparmetis -lmetis -lesmumps -lscotch -lscotcherr -L/opt/gnu/9.3.0/elpa/2020.05.001/lib -Wl,-rpath=/opt/gnu/9.3.0/elpa/2020.05.001/lib -lelpa -L/opt/gnu/9.3.0/scalapack/2.1.0/lib -Wl,-rpath=/opt/gnu/9.3.0/scalapack/2.1.0/lib -lscalapack  -L/opt/gnu/9.3.0/openblas/0.3.10/lib -Wl,-rpath=/opt/gnu/9.3.0/openblas/0.3.10/lib -lopenblas -L/home/nicpa/codes/flook/obj -lflookall -ldl -l:libnetcdff.so  -m64 -fPIC -O3 -ftree-vectorize -fexpensive-optimizations -funroll-loops -fprefetch-loop-arrays -fgraphite -fipa-icf -fipa-pure-const -march=native -fschedule-fusion -fselective-scheduling -fstack-arrays -fmax-stack-var-size=10000 -fipa-sra -fipa-cp -Warray-temporaries -fcheck=recursion,array-temps -fno-second-underscore -Wrealloc-lhs -Wrealloc-lhs-all -L/opt/gnu/9.3.0/fftw/3.3.8/lib -Wl,-rpath=/opt/gnu/9.3.0/fftw/3.3.8/lib -lfftw3
PARALLEL version
NetCDF support
NetCDF-4 support
NetCDF-4 MPI-IO support
METIS ordering support

* Running on 2 nodes in parallel
>> Start of run:  30-SEP-2020  22:13:00

                           ************************ 
                           *  WELCOME TO TBtrans  * 
                           ************************ 

reinit: Reading from bulk_au_111.fdf

reinit: -----------------------------------------------------------------------
reinit: System Name: bulk_au_111
reinit: -----------------------------------------------------------------------
reinit: System Label: bulk_au_111
reinit: -----------------------------------------------------------------------

k-point displ. along   1 input, could be:     0.00    0.50
k-point displ. along   2 input, could be:     0.00    0.50
 Kpoints in:           40 . Kpoints trimmed:           34
tbt: Number of transport k-points = 34
tbt: Method = Monkhorst-Pack grid.
tbt: k-grid: Supercell and displacements
tbt:            8   0   0      0.000
tbt:            0   8   0      0.000
tbt:            0   0   1      0.000


tbt: **************************************************************
tbt: Electronic temperature (reference)             =   99.9993 K
tbt: No applied bias
tbt: Calculate transmission only using diag(Gf)     =    F
tbt: Saving bulk transmission for electrodes        =    F
tbt: Saving DOS from bulk electrodes                =    F
tbt: Saving DOS from Green function                 =    F
tbt: Saving DOS from spectral functions             =    F
tbt: Saving bond currents (orb-orb)                 =    F
tbt: Saving DM from Green function                  =    F
tbt: Saving DM from spectral functions              =    F
tbt: Saving COOP from Green function                =    F
tbt: Saving COOP from spectral functions            =    F
tbt: Saving COHP from Green function                =    F
tbt: Saving COHP from spectral functions            =    F
tbt: Calc. # transmission eigenvalues               =  0
tbt: Calc. T between all electrodes                 =    F
tbt: Calc. total T out of electrodes                =    F
tbt: Non-polarized Hamiltonian
tbt: BTD creation algorithm                         =    speed
tbt: BTD spectral function algorithm                =    propagation
tbt: Divide and conquer diagonalization             =    F
tbt: Assume LAPACK <i|S|j> = delta_ij               =    F
tbt: Saving downfolded self-energies                =    F
tbt: No delta Hamiltonian
tbt: No delta self-energy
tbt: Data files stored in current folder
tbt: No compression of TBT.nc files
tbt: Default NetCDF precision                       =    single
tbt: Use parallel MPI-IO for NetCDF file            =    F
tbt:           >> Electrodes << 
tbt: >> Left
tbt:   Electrode cell pivoting: E1, E2, E3          = A1, A2, A3
tbt:   In-core self-energy calculation
tbt:   Electrode TSHS file                          = ./elec_au_111_abc.TSHS
tbt:   # atoms used in electrode                    =    3
tbt:   Electrode Bloch unity [E1 x E2 x E3]         = 1 x 1 x 1
tbt:   Position in geometry                         = 1 -- 3
tbt:   Semi-infinite direction for electrode        = negative wrt. E3
tbt:   Chemical shift                               =    0.000000 eV
tbt:   Electronic temperature                       =   99.999269 K
tbt:   Gamma-only electrode                         =    F
tbt:   Bulk H, S in electrode region                =    T
tbt:   Manual delta-Ef shift                        =    0.000000 eV
tbt:   Electrode self-energy imaginary Eta          =  0.1000E-03 eV
tbt:   Electrode self-energy accuracy               =  0.1000E-12 eV
tbt:   Electrode inter-layer distance (semi-inf)    =    2.3867 Ang
tbt: >> Right
tbt:   Electrode cell pivoting: E1, E2, E3          = A1, A2, A3
tbt:   In-core self-energy calculation
tbt:   Electrode TSHS file                          = ./elec_au_111_abc.TSHS
tbt:   # atoms used in electrode                    =    3
tbt:   Electrode Bloch unity [E1 x E2 x E3]         = 1 x 1 x 1
tbt:   Position in geometry                         = 7 -- 9
tbt:   Semi-infinite direction for electrode        = positive wrt. E3
tbt:   Chemical shift                               =    0.000000 eV
tbt:   Electronic temperature                       =   99.999269 K
tbt:   Gamma-only electrode                         =    F
tbt:   Bulk H, S in electrode region                =    T
tbt:   Manual delta-Ef shift                        =    0.000000 eV
tbt:   Electrode self-energy imaginary Eta          =  0.1000E-03 eV
tbt:   Electrode self-energy accuracy               =  0.1000E-12 eV
tbt:   Electrode inter-layer distance (semi-inf)    =    2.3867 Ang
ts:              >> TBtrans contour << 
ts: Device Green function imaginary Eta             =  0.000     eV
ts: Contour name                                    =    TBT.Contour.neq
ts:   line contour E_min                            =   -0.5000 eV
ts:   line contour E_max                            =    0.5000 eV
ts:   line contour points                           =  100
ts:   line contour method                           =    Mid-rule
tbt: **************************************************************

tbt: <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
%block TBT.Contours
    neq
%endblock TBT.Contours

%block TBT.Contour.neq
     from -0.50000 eV to 0.50000 eV
      delta 0.01000 eV
        method mid-rule
%endblock TBT.Contour.neq
tbt: <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

************************ Begin: TBT CHECKS AND WARNINGS ************************
 ** Speed up the execution by utilizing parallel I/O
  > TBT.CDF.MPI true
************************ End: TBT CHECKS AND WARNINGS **************************

Device information (full):
  <sparsity:bulk_au_111.TSHS
    nrows_g=81 nrows=81 sparsity=14.7586 nnzs=96831, refcount: 3>

Electrode information:

  <sparsity:./elec_au_111_abc.TSHS
    nrows_g=27 nrows=27 sparsity=44.2757 nnzs=32277, refcount: 3>
  <sparsity:(TM [--,--, 0] of: ./elec_au_111_abc.TSHS)
    nrows_g=27 nrows=27 sparsity=25.1152 nnzs=18309, refcount: 3>
  <sparsity:(TM [--,--,-1] of: ./elec_au_111_abc.TSHS)
    nrows_g=27 nrows=27 sparsity=9.4486 nnzs=6888, refcount: 3>
 Left principal cell is extending out with 96 elements:
    Atom 1 connects with atom 3
    Orbital 8 connects with orbital 26
    Hamiltonian value: |H(8,7046)|@R=-2 =  0.102E-18 eV
    Overlap          :  S(8,7046)|@R=-2 =   0.00    

  <sparsity:./elec_au_111_abc.TSHS
    nrows_g=27 nrows=27 sparsity=44.2757 nnzs=32277, refcount: 3>
  <sparsity:(TM [--,--, 0] of: ./elec_au_111_abc.TSHS)
    nrows_g=27 nrows=27 sparsity=25.1152 nnzs=18309, refcount: 3>
  <sparsity:(TM [--,--, 1] of: ./elec_au_111_abc.TSHS)
    nrows_g=27 nrows=27 sparsity=9.4486 nnzs=6888, refcount: 3>
 Right principal cell is extending out with 96 elements:
    Atom 3 connects with atom 1
    Orbital 26 connects with orbital 8
    Hamiltonian value: |H(26,6353)|@R=2 =  0.102E-18 eV
    Overlap          :  S(26,6353)|@R=2 =   0.00    


tbt: Analyzing electrode sparsity pattern and electrode pivot-tables

*** WARNING! Removed 192 elements which connect electrodes across the device region!

tbt: BTD pivoting scheme for electrode (Left): atom+Left

tbt: Analyzing device sparsity pattern and pivot-table
tbt: BTD pivoting scheme in device: atom+Left
tbt: Done analyzing electrode and device sparsity pattern and pivot-tables

tbt: Reducing matrix (H, S) sparsity patterns by: 14352

tbt: # of device region orbitals: 27
Region (3): [A]-device
  [ 4 -- 6 ]

tbt: # of Left downfolding orbitals: 54
tbt: # of Left device orbitals: 27
Region (3): [A]-Left folding region
  [ 1 -- 3 ]
Region (3): [A]-Left folding in D
  [ 4 -- 6 ]

tbt: # of Right downfolding orbitals: 54
tbt: # of Right device orbitals: 27
Region (3): [A]-Right folding region
  [ 7 -- 9 ]
Region (3): [A]-Right folding in D
  [ 4 -- 6 ]

tbt: Creating electrode tri-diagonal matrix blocks
tbt: Creating device tri-diagonal matrix blocks
Region (2): [TRI] device region
  [ 13, 14 ]
tbt: Matrix elements in BTD: 729

tbt: Electrodes tri-diagonal matrices
Region (2): [TRI] Left
  [ [27] * 2 ]
Region (2): [TRI] Right
  [ [27] * 2 ]

tbt: Electrode memory: 1007.031 KB
tbt: Sparse H, S and auxiliary matrices memory:    1.659 MB
tbt: Sum of electrode and sparse memory:    2.642 MB

tbt: Initializing data file: bulk_au_111.TBT.nc
tbt: Estimated file size of bulk_au_111.TBT.nc:  19.207 KB

tbt: LHS Green function padding / memory: 8019 /  136.688 KB
tbt: RHS Green function padding / memory: 729 /   22.781 KB
tbt: Initial ETA in               12.690 s
tbt: Calculated   5.000 %, ETA in                7.355 s
tbt: Calculated  10.000 %, ETA in                6.516 s
tbt: Calculated  15.000 %, ETA in                5.691 s
tbt: Calculated  20.000 %, ETA in                5.472 s
tbt: Calculated  25.000 %, ETA in                5.307 s
tbt: Calculated  30.000 %, ETA in                5.040 s
tbt: Calculated  35.000 %, ETA in                4.745 s
tbt: Calculated  40.000 %, ETA in                4.245 s
tbt: Calculated  45.000 %, ETA in                3.826 s
tbt: Calculated  50.000 %, ETA in                3.530 s
tbt: Calculated  55.000 %, ETA in                3.208 s
tbt: Calculated  60.000 %, ETA in                2.854 s
tbt: Calculated  65.000 %, ETA in                2.428 s
tbt: Calculated  70.000 %, ETA in                2.029 s
tbt: Calculated  75.000 %, ETA in                1.710 s
tbt: Calculated  80.000 %, ETA in                1.381 s
tbt: Calculated  85.000 %, ETA in                1.038 s
tbt: Calculated  90.000 %, ETA in                0.689 s
tbt: Calculated  95.000 %, ETA in                0.345 s
tbt: Completed in                6.909 s

Currents (ensure entire Fermi function window):
Left -> Right, V [V] / I [A]:  0.00000     V /  0.00000     A
Left -> Right, V [V] / P [W]:  0.00000     V /  0.00000     W


             Section          Calls    Walltime       %
 global_section                   1       7.115  100.00
  tbtrans                         1       7.115  100.00
   MPI_COMM_RANK                  1       0.000    0.00
   MPI_COMM_SIZE                  1       0.000    0.00
   MPI_BCAST                     83       0.002    0.03
   MPI_BARRIER                    3       0.001    0.02
   init-region+sp                 1       0.006    0.08
   pivot-elec                     1       0.000    0.01
    pivot                         1       0.000    0.00
    MPI_BCAST                    24       0.000    0.00
   pivot-device                   1       0.000    0.00
    pivot                         1       0.000    0.00
   tri-init                       1       0.002    0.03
    tri-init-elec                 1       0.000    0.00
     TS-rgn2tri                   1       0.000    0.00
     MPI_BCAST                    6       0.000    0.00
    TS-rgn2tri                    1       0.000    0.00
     MPI_BCAST                    4       0.000    0.00
   TBT                            1       6.978   98.07
    MPI_BCAST                    39       0.000    0.00
    MPI_BARRIER                   3       0.000    0.00
    setup-HS                     34       0.074    1.04
    MPI_ALLGATHER              3400       0.004    0.06
    read-GS                    1700       6.193   87.04
    SE-dwn                     1700       0.267    3.75
     ts_expand                 3400       0.003    0.05
    Gf-prep                    1700       0.192    2.70
     V_TM_Pinv                 1700       0.067    0.95
    analysis                   1700       0.177    2.49
     dGFGGF                    1700       0.035    0.50
     A-Gamma                   1700       0.004    0.06
     cdf-w-DOS-T               1700       0.136    1.91
      MPI_RECV                 1700       0.003    0.05
    cdf2ascii                     1       0.013    0.18
>> End of run:  30-SEP-2020  22:13:07
