Use of PSML pseudopotential files in SIESTA

This version of SIESTA can use pseudopotential files in PSML
format. For more information on the format itself and the PSML
ecosystem of generators and client ab-initio codes, please see
http://esl.cecam.org/PSML.

Note that curated databases of high-quality PSML files are starting to
appear. In particular, the Pseudo-Dojo project
(http://www.pseudo-dojo.org) offers PSML files for almost the whole
periodic table.

Please take into account the following when using PSML files:

* If present in the execution directory, PSF files take precedence
  over PSML files.  That is, if both AtomLabel.psf and AtomLabel.psml
  are present, SIESTA will process the former.
  
* PSML files typically contain semilocal potentials, a local
  potential, and non-local projectors. By default, SIESTA will use the
  local potential and non-local projectors from the PSML file, unless the
  respective options

  use-psml-vlocal
  use-psml-kb-projectors

  are set to 'false'.

* In order to generate its basis set of pseudo-atomic orbitals (PAOs),
  SIESTA still needs the semilocal parts of the pseudopotential.
  Currently all available PSML files (generated by ATOM+psop or ONCVPSP)
  contain semilocal potentials, but this might change in the future
  (for example, when a PSML file is obtained from a projectors-only
  UPF file). This restriction will be lifted in a later version:
  SIESTA will be able to use the full pseudopotential operator to
  generate the PAOs.

* For the 'offsite' (default) version of spin-orbit-coupling (SOC),
  SIESTA uses fully relativistic ("lj") projectors. These are
  available in PSML files generated by ONCVPSP in fully-relativistic
  mode, if the psfile option "upf" or "both" is used in the
  appropriate place in the input file. To obtain appropriate PSML
  files with the ATOM+psop chain, the projector generation with psop
  must use the '-r' option.
  Note that "lj" projectors can still be directly generated by SIESTA
  from relativistic semilocal potentials.

* Fully-relativistic PSML files with only "lj" non-local projectors
  cannot be used directly in calculations not involving 'offsite'
  SOC. For this, SIESTA needs the "scalar-relativistic"
  projectors. While in principle it is possible to read only the
  semilocal potentials from the file and proceed to generate the
  appropriate projectors, it is better to use PSML files which contain
  both (actually three) sets of non-local projectors: "sr", "so", and
  "lj". These can be obtained with ONCVPSP with the "both" option. For
  the ATOM+psop chain, it is currently necessary to run psop twice
  (once with the -r option) and generate two different PSML files, and
  then "graft" the "sr" set into the file containing the "lj" set. This
  restriction will be lifted in a forthcoming version of psop.

* A large number of PSML files obtained from the Pseudo-Dojo database
  are generated with (several) semicore shells. Dealing with them has
  uncovered a few weaknesses in the standard heuristics used in SIESTA
  to generate basis sets:

  -- Sometimes it is not possible to execute successfully the default
     split-norm algorithm. In this case, use the option:

     PAO.TailSplitNorm T

     which guarantees convergence (please see the manual).

 -- The default perturbative scheme for polarization orbitals can fail in
    very specific cases (elements with only s and p pseudopotential channels
    and at least an 's' semicore shell). In those cases, include the species label
    in the following block to request a non-perturbative scheme:

    %block PAO.PolarizationScheme
      Mg non-perturbative           
    %endblock PAO.PolarizationScheme

    Please see the manual for a fuller explanation.

 -- Note that SIESTA can now automatically detect and generate basis
    sets for atoms with semicore shells without the explicit use of a
    PAO.Basis block.

  If you uncover any issues, please report them back to the developers.
  


   

  
  